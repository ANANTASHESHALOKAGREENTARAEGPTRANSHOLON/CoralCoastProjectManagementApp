"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[625],{9176:(e,t,a)=>{a.d(t,{Z:()=>o});var s=a(8081),n=a.n(s),l=a(3645),i=a.n(l)()(n());i.push([e.id,"\n.save-changes[data-v-3107f3ba] {\n    margin-left: 10px;\n}\n",""]);const o=i},3744:(e,t)=>{t.Z=(e,t)=>{const a=e.__vccOpts||e;for(const[e,s]of t)a[e]=s;return a}},2032:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var s=a(6252),n=a(3577),l=a(9963);const i=e=>((0,s.dD)("data-v-3107f3ba"),e=e(),(0,s.Cn)(),e),o={class:"card"},c={class:"card-body"},r=i((()=>(0,s._)("hr",null,null,-1))),d={class:"row"},h=i((()=>(0,s._)("div",{class:"col-md-4"},[(0,s._)("strong",null,"Change Task Title"),(0,s._)("p",{class:"text-instructions"}," Please write a short title of the description for this task. i.e Backup of Database ")],-1))),u={class:"col-md-8"},g={class:"form-group"},k=i((()=>(0,s._)("label",null,"Change Title:",-1))),_=i((()=>(0,s._)("hr",null,null,-1))),p=i((()=>(0,s._)("hr",null,null,-1))),f={class:"row"},m=i((()=>(0,s._)("div",{class:"col-md-4"},[(0,s._)("strong",null,"Description"),(0,s._)("p",{class:"text-instructions"}," Write a detail description of this particular task. ")],-1))),T={class:"col-md-8"},v=i((()=>(0,s._)("label",null,"Change Task Description (Optional):",-1))),b=i((()=>(0,s._)("hr",null,null,-1))),D={class:"row"},w=i((()=>(0,s._)("div",{class:"col-md-4"},[(0,s._)("strong",null,"Misc"),(0,s._)("p",{class:"text-instructions"},' Please fill in the stakeholders for this particular change task. Default value will be "Stakeholders". '),(0,s._)("p",{class:"text-instructions"},' To state if there is downtime, please click the "No Downtime" to change it\'s statue. ')],-1))),C={class:"col-md-8"},S={class:"form-group"},M=i((()=>(0,s._)("label",null,"Stakeholders:",-1))),y=i((()=>(0,s._)("br",null,null,-1))),A={class:"btn-group",role:"group","aria-label":"Basic checkbox toggle button group"},E={class:"btn btn-outline-primary",for:"isDowntime"},R=i((()=>(0,s._)("hr",null,null,-1))),q=["href"],I=a(9669),x={name:"ChangeTaskInformation",props:{changeTaskResults:Array,rootUrl:{type:String,default:"/"}},data(){return{changeTitleModel:this.changeTaskResults[0].fields.change_task_title,changeDescriptionModel:this.changeTaskResults[0].fields.change_task_description,changeStakeholderModel:this.changeTaskResults[0].fields.change_task_required_by,changeIsDowntimeModel:this.changeTaskResults[0].fields.is_downtime}},methods:{isDowntime:function(){return this.changeIsDowntimeModel?"Downtime Scheduled":"No Downtime"},saveChangeTask:function(e){e.preventDefault();var t=parseInt(this.changeEndDateModel)-parseInt(this.changeStartDateModel);const a=new FormData;a.set("change_task_title",this.changeTitleModel),a.set("change_task_description",this.changeDescriptionModel),a.set("change_task_start_date",this.changeStartDateModel),a.set("change_task_end_date",this.changeEndDateModel),a.set("change_task_seconds",t.toString()),a.set("change_task_required_by",this.changeStakeholderModel),a.set("is_downtime",this.changeIsDowntimeModel),I.post(`${this.rootUrl}change_task_information/${this.changeTaskResults[0].pk}/save/`,a).then((e=>{window.location.href=`${this.rootUrl}rfc_information/${this.changeTaskResults[0].fields.request_for_change}/`})).catch((e=>{}))},updateStatus:function(e){const t=new FormData;t.set("change_task_status",e),I.post(`${rootUrl}change_task_update_status/${this.changeTaskResults[0].pk}/`,t).then((e=>{window.location.reload(!0)})).catch((e=>{}))},updateDates:function(e){this.changeStartDateModel=e.start_date,this.changeEndDateModel=e.end_date}}};var N=a(3379),U=a.n(N),$=a(7795),V=a.n($),Z=a(569),O=a.n(Z),j=a(3565),G=a.n(j),H=a(9216),K=a.n(H),P=a(4589),F=a.n(P),B=a(9176),L={};L.styleTagTransform=F(),L.setAttributes=G(),L.insert=O().bind(null,"head"),L.domAPI=V(),L.insertStyleElement=K(),U()(B.Z,L),B.Z&&B.Z.locals&&B.Z.locals;const W=(0,a(3744).Z)(x,[["render",function(e,t,a,i,I,x){const N=(0,s.up)("between-dates"),U=(0,s.up)("editor");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",c,[(0,s._)("h1",null,"Change Task - "+(0,n.zw)(a.changeTaskResults[0].pk),1),r,(0,s.kq)(" CHANGE TASK TITLE "),(0,s._)("div",d,[h,(0,s._)("div",u,[(0,s._)("div",g,[k,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>I.changeTitleModel=e)},null,512),[[l.vModelText,I.changeTitleModel]])])])]),(0,s.kq)(" START DATE & END DATE "),_,(0,s.Wm)(N,{destination:"Change Task",onUpdate_dates:t[1]||(t[1]=e=>x.updateDates(e))}),(0,s.kq)(" DESCRIPTION OPTIONAL "),p,(0,s._)("div",f,[m,(0,s._)("div",T,[v,(0,s.Wm)(U,{init:{height:300,menubar:!1,plugins:"lists",toolbar:["undo redo | formatselect | alignleft aligncenter alignright alignjustify","bold italic strikethrough underline backcolor | bullist numlist outdent indent | removeformat"]},content_css:!1,skin:!1,modelValue:I.changeDescriptionModel,"onUpdate:modelValue":t[2]||(t[2]=e=>I.changeDescriptionModel=e)},null,8,["modelValue"])])]),(0,s.kq)(" MISC "),b,(0,s._)("div",D,[w,(0,s._)("div",C,[(0,s._)("div",S,[M,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>I.changeStakeholderModel=e)},null,512),[[l.vModelText,I.changeStakeholderModel]])]),y,(0,s._)("div",A,[(0,s.wy)((0,s._)("input",{type:"checkbox",id:"isDowntime",class:"btn-check",autocomplete:"off","onUpdate:modelValue":t[4]||(t[4]=e=>I.changeIsDowntimeModel=e)},null,512),[[l.vModelCheckbox,I.changeIsDowntimeModel]]),(0,s._)("label",E,(0,n.zw)(x.isDowntime()),1)])])]),(0,s.kq)(" GO BACK "),R,(0,s.kq)(" CANCEL "),(0,s._)("a",{href:`${a.rootUrl}rfc_information/${a.changeTaskResults[0].fields.request_for_change}/`,class:"btn btn-secondary"},"Cancel",8,q),(0,s.kq)(" SAVE "),1==a.changeTaskResults[0].fields.change_task_status?((0,s.wg)(),(0,s.iD)("a",{key:0,href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:t[5]||(t[5]=(...e)=>x.saveChangeTask&&x.saveChangeTask(...e))},"Save")):(0,s.kq)("v-if",!0),(0,s.kq)(" START CHANGE TASK "),3==a.changeTaskResults[0].fields.change_task_status?((0,s.wg)(),(0,s.iD)("a",{key:1,href:"javascript:void(0)",class:"btn btn-danger save-changes",onClick:t[6]||(t[6]=e=>x.updateStatus(4))},"Start Task")):(0,s.kq)("v-if",!0),(0,s.kq)(" FINISH CHANGE TASK "),4==a.changeTaskResults[0].fields.change_task_status?((0,s.wg)(),(0,s.iD)("a",{key:2,href:"javascript:void(0)",class:"btn btn-success save-changes",onClick:t[7]||(t[7]=e=>x.updateStatus(5))},"Finish Task")):(0,s.kq)("v-if",!0),(0,s.kq)(" REJECT CHANGE TASK "),4==a.changeTaskResults[0].fields.change_task_status?((0,s.wg)(),(0,s.iD)("a",{key:3,href:"javascript:void(0)",class:"btn btn-danger save-changes",onClick:t[8]||(t[8]=e=>x.updateStatus(6))},"REJECT Task")):(0,s.kq)("v-if",!0)])])}],["__scopeId","data-v-3107f3ba"]])}}]);