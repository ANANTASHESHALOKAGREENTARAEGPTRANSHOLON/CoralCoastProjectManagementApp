"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[937],{8933:(a,o,i)=>{i.r(o),i.d(o,{default:()=>G});var e=i(6252),n=i(9963);const t={class:"card"},s={class:"card-body"},l=(0,e._)("h1",null,"New Organisation",-1),r=(0,e._)("hr",null,null,-1),d={class:"row"},c=(0,e._)("div",{class:"col-md-4"},[(0,e._)("strong",null,"Description"),(0,e._)("p",{class:"text-instructions"}," Please fill out all the required fields. Please only use a generic email for the organisation email field. e.g. support@companyxyz.com ")],-1),u={class:"col-md-8"},m={class:"form-group"},g={for:"id_organisation_name"},p=(0,e.Uk)(" Organisation Name: "),h={key:0,class:"error"},_=(0,e._)("br",null,null,-1),v={class:"row"},w={class:"form-group col-md-6"},M={for:"id_organisation_website"},f=(0,e.Uk)(" Organisation Website: "),y={key:0,class:"error"},b={key:1,class:"error"},S={class:"form-group col-md-6"},k={for:"id_organisation_email"},O=(0,e.Uk)(" Organisation Email: "),E={key:0,class:"error"},N={key:1,class:"error"},I=(0,e._)("hr",null,null,-1),T={key:0,class:"row submit-row"},q={class:"col-md-12"},$={key:1},D={key:2,class:"row"},P=(0,e._)("div",{class:"col-md-4"},[(0,e._)("strong",null,"Please Read"),(0,e._)("p",{class:"text-instructions"},' The server has found potential duplications. Please review the following Organisations. If you would like to create the organisation, please scroll to the bottom of the page and hit "Submit Organisation". If the organisation you are looking for is already created. Click on the name and you will be taken to the Organisation\'s Information page. '),(0,e._)("strong",null,"Alternatively"),(0,e._)("p",{class:"text-instructions"}," You can also change the information above and resubmit. ")],-1),U={class:"col-md-8"},A={key:3,class:"row submit-row"},L={class:"col-md-12"};i(9909);var C=i(6650),B=i(2587),x=i(3058),W=i(8416);const R=i(9669),Z={name:"NewOrganisation",setup:()=>({v$:(0,C.ZP)()}),props:{rootUrl:{type:String,default:"/"}},mixins:[x.Z,W.Z],data:()=>({duplicateOrganisations:[],organisationNameModel:"",organisationWebsiteModel:"",organisationEmailModel:""}),watch:{organisationNameModel:function(){this.duplicateOrganisations=[]},organisationWebsiteModel:function(){this.duplicateOrganisations=[]},organisationEmailModel:function(){this.duplicateOrganisations=[]}},methods:{addOrganisation:function(){this.v$.$touch(),this.v$.$invalid?this.showValidationErrorModal():R.post(`${this.rootUrl}organisation_duplicates/`,this.dataToSend()).then((a=>{0===a.data.length&&this.uploadOrganisationData(),this.duplicateOrganisations=a.data})).catch((a=>{this.showErrorModal(a,"organisation","")}))},dataToSend:function(){const a=new FormData;return a.set("organisation_name",this.organisationNameModel),a.set("organisation_website",this.organisationWebsiteModel),a.set("organisation_email",this.organisationEmailModel),a},uploadOrganisationData:function(){R.post("save/",this.dataToSend()).then((a=>{window.location.href=`${this.rootUrl}organisation_information/${a.data[0].pk}/`})).catch((a=>{}))}},validations:{organisationNameModel:{required:B.C1,maxLength:(0,B.BS)(255)},organisationWebsiteModel:{required:B.C1,url:B.HQ},organisationEmailModel:{required:B.C1,email:B.Do}}},G=(0,i(3744).Z)(Z,[["render",function(a,o,i,C,B,x){const W=(0,e.up)("list-organisations");return(0,e.wg)(),(0,e.iD)("div",t,[(0,e._)("div",s,[(0,e.kq)(" TITLE "),l,r,(0,e.kq)(" FIELDS SECTION "),(0,e._)("div",d,[c,(0,e._)("div",u,[(0,e.kq)(" ORGANISATION NAME "),(0,e._)("div",m,[(0,e._)("label",g,[p,!C.v$.organisationNameModel.required&&C.v$.organisationNameModel.$dirty?((0,e.wg)(),(0,e.iD)("span",h," Please suppy a title. ")):(0,e.kq)("v-if",!0)]),(0,e.wy)((0,e._)("input",{id:"id_organisation_name",name:"organisation_name",type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=a=>B.organisationNameModel=a)},null,512),[[n.vModelText,B.organisationNameModel]])]),_,(0,e._)("div",v,[(0,e.kq)(" ORGANISATION WEBSITE "),(0,e._)("div",w,[(0,e._)("label",M,[f,!C.v$.organisationWebsiteModel.required&&C.v$.organisationWebsiteModel.$dirty?((0,e.wg)(),(0,e.iD)("span",y," Please supply ")):(0,e.kq)("v-if",!0),!C.v$.organisationWebsiteModel.url&&C.v$.organisationWebsiteModel.$dirty?((0,e.wg)(),(0,e.iD)("span",b," Please format at URL ")):(0,e.kq)("v-if",!0)]),(0,e.wy)((0,e._)("input",{id:"id_organisation_website",name:"organisation_website",type:"url",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=a=>B.organisationWebsiteModel=a)},null,512),[[n.vModelText,B.organisationWebsiteModel]])]),(0,e.kq)(" ORGANISATION EMAIL "),(0,e._)("div",S,[(0,e._)("label",k,[O,!C.v$.organisationEmailModel.required&&C.v$.organisationEmailModel.$dirty?((0,e.wg)(),(0,e.iD)("span",E," Please supply ")):(0,e.kq)("v-if",!0),!C.v$.organisationEmailModel.email&&C.v$.organisationEmailModel.$dirty?((0,e.wg)(),(0,e.iD)("span",N," Please format as Email ")):(0,e.kq)("v-if",!0)]),(0,e.wy)((0,e._)("input",{id:"id_organisation_email",name:"organisation_email",type:"email",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=a=>B.organisationEmailModel=a)},null,512),[[n.vModelText,B.organisationEmailModel]])])])])]),I,(0,e.kq)(" SUBMIT ORGANISATION BUTTON "),0==B.duplicateOrganisations.length?((0,e.wg)(),(0,e.iD)("div",T,[(0,e._)("div",q,[(0,e._)("button",{class:"btn btn-primary save-changes",onClick:o[3]||(o[3]=(...a)=>x.addOrganisation&&x.addOrganisation(...a))}," Add Organisation ")])])):(0,e.kq)("v-if",!0),B.duplicateOrganisations.length>0?((0,e.wg)(),(0,e.iD)("h2",$," Potential Duplication ")):(0,e.kq)("v-if",!0),B.duplicateOrganisations.length>0?((0,e.wg)(),(0,e.iD)("div",D,[(0,e.kq)(" PLEASE READ "),P,(0,e.kq)(" DUPLICATE ORGANISATION LIST "),(0,e._)("div",U,[(0,e.Wm)(W,{"organisation-results":B.duplicateOrganisations,"root-url":i.rootUrl},null,8,["organisation-results","root-url"])])])):(0,e.kq)("v-if",!0),(0,e.kq)(" STILL SUBMIT ORGANISATION "),B.duplicateOrganisations.length>0?((0,e.wg)(),(0,e.iD)("div",A,[(0,e._)("div",L,[(0,e._)("button",{class:"btn btn-primary save-changes",onClick:o[4]||(o[4]=(...a)=>x.uploadOrganisationData&&x.uploadOrganisationData(...a))}," Submit Organisation ")])])):(0,e.kq)("v-if",!0)])])}]])},5244:(a,o,i)=>{i.r(o),i.d(o,{default:()=>M});var e=i(6252),n=i(9963);const t={class:"card"},s={class:"card-body"},l=(0,e._)("h1",null,"New Permission Set",-1),r=(0,e._)("hr",null,null,-1),d={class:"row"},c=(0,e._)("div",{class:"col-md-4"},[(0,e._)("strong",null,"New Permission Set"),(0,e._)("p",{class:"text-instructions"}," Please enter in a unique permission set name. Please note - all values are default permission level of 0. ")],-1),u={class:"col-md-8"},m=(0,e._)("label",null,"Permission Set Name",-1),g=(0,e._)("hr",null,null,-1),p={class:"row submit-row"},h={class:"col-md-12"};var _=i(3058);const v=i(9669),w={name:"NewPermissionSet",props:{rootUrl:{type:String,default:"/"}},data:()=>({permissionSetNameModel:""}),mixins:[_.Z],methods:{addNewPermissionSet:function(){const a=new FormData;a.set("permission_set_name",this.permissionSetNameModel),v.post(`${this.rootUrl}new_permission_set/save/`,a).then((a=>{window.location.href=a.data})).catch((a=>{this.showErrorModal(a,"New Permission Set","")}))}}},M=(0,i(3744).Z)(w,[["render",function(a,o,i,_,v,w){return(0,e.wg)(),(0,e.iD)("div",t,[(0,e._)("div",s,[l,r,(0,e._)("div",d,[c,(0,e._)("div",u,[m,(0,e.wy)((0,e._)("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=a=>v.permissionSetNameModel=a),class:"form-control"},null,512),[[n.vModelText,v.permissionSetNameModel]])])]),(0,e.kq)(" Submit Button "),g,(0,e._)("div",p,[(0,e._)("div",h,[(0,e._)("a",{href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:o[1]||(o[1]=(...a)=>w.addNewPermissionSet&&w.addNewPermissionSet(...a))},"Create new Permission Set")])])])])}]])},3058:(a,o,i)=>{i.d(o,{Z:()=>n});var e=i(9909);const n={methods:{showErrorModal:function(a,o,i){new e.u_(document.getElementById("loadingModal")).hide(),document.getElementById("errorModalContent").innerHTML=`<strong>HTML ISSUE:</strong> We could not save the new requirement<hr>${a}`,new e.u_(document.getElementById("errorModal")).show()},showValidationErrorModal:function(){document.getElementById("errorModalContent").innerHTML="<strong>FORM ISSUE:</strong> Sorry, but can you please fill out the form completely.",new e.u_(document.getElementById("errorModal")).show()}}}},8416:(a,o,i)=>{i.d(o,{Z:()=>n});var e=i(9909);const n={methods:{closeLoadingModal:function(){var a=new e.u_(document.getElementById("loadingModal"));document.getElementById("loadingModalContent").innerHTML="UPDATED SUCCESSFULLY",setTimeout((()=>{a.hide()}),1e3)},showLoadingModal:function(a){new e.u_(document.getElementById("loadingModal")).show(),document.getElementById("loadingModalContent").innerHTML=`Updating your ${a} details`}}}}}]);