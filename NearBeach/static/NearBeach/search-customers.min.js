"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[350],{3744:(e,t)=>{t.Z=(e,t)=>{const s=e.__vccOpts||e;for(const[e,r]of t)s[e]=r;return s}},9165:(e,t,s)=>{s.r(t),s.d(t,{default:()=>L});var r=s(6252),o=s(9963);const a={class:"card"},c={class:"card-body"},i=(0,r._)("h1",null,"Search Customers",-1),n=(0,r._)("br",null,null,-1),l={class:"form-group"},u=(0,r._)("label",null,"Search:",-1),m=(0,r._)("hr",null,null,-1),d={key:0,class:"alert alert-warning"};var h=s(9113),f=s(3577);const g={class:"row"},p={class:"organisation-details"},Z=["src"],_=["src"],U={class:"organisation-name"},w=["href"],k={class:"organisation-email"},v=(0,r.Uk)(" Email: "),S=["href"];var T=s(5808),I=s(6542),C=s(4250);const y={name:"ListCustomers",components:{Icon:I.JO},props:{customerResults:{type:Array,default:function(){return[]}}},computed:{...(0,C.Se)({rootUrl:"getRootUrl",staticUrl:"getStaticUrl"})},mixins:[T.Z]};var R=s(3744);const D=(0,R.Z)(y,[["render",function(e,t,s,o,a,c){const i=(0,r.up)("Icon");return(0,r.wg)(),(0,r.iD)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.customerResults,(t=>((0,r.wg)(),(0,r.iD)("div",g,[(0,r._)("div",p,[""==t.fields.customer_profile_picture?((0,r.wg)(),(0,r.iD)("img",{key:0,src:`${e.staticUrl}/NearBeach/images/placeholder/product_tour.svg`,alt:"Stakeholder Logo",class:"organisation-image"},null,8,Z)):((0,r.wg)(),(0,r.iD)("img",{key:1,src:t.fields.customer_profile_picture,alt:"Stakeholder Logo",class:"organisation-image"},null,8,_)),(0,r._)("div",U,[(0,r._)("a",{href:`${e.rootUrl}customer_information/${t.pk}/`},(0,f.zw)(t.fields.customer_first_name)+" "+(0,f.zw)(t.fields.customer_last_name),9,w)]),(0,r._)("div",k,[(0,r.Wm)(i,{icon:e.icons.mailIcon},null,8,["icon"]),v,(0,r._)("a",{href:`mailto:${t.fields.customer_email}`},(0,f.zw)(t.fields.customer_email),9,S)])])])))),256))])}]]),b=s(9669),x={name:"SearchCustomers",components:{ListCustomers:D},props:{customerResults:{type:Array,default:()=>[]},staticUrl:{type:String,default:"/"},rootUrl:{type:String,default:"/"}},mixins:[h.Z],data(){return{localCustomerResults:this.customerResults,searchModel:"",searchTimeout:""}},methods:{getSearchResults:function(){const e=new FormData;e.set("search",this.searchModel),b.post(`${this.rootUrl}search/customer/data/`,e).then((e=>{this.localCustomerResults=e.data})).catch((e=>{}))}},watch:{searchModel:function(){this.searchTrigger({return_function:this.getSearchResults,searchTimeout:this.searchTimeout})}},mounted(){this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl,staticUrl:this.staticUrl})}},L=(0,R.Z)(x,[["render",function(e,t,s,h,f,g){const p=(0,r.up)("list-customers");return(0,r.wg)(),(0,r.iD)("div",a,[(0,r._)("div",c,[(0,r.kq)(" HEADING "),i,n,(0,r.kq)(" SEARCH FIELD "),(0,r._)("div",l,[u,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control search-organisation","onUpdate:modelValue":t[0]||(t[0]=e=>f.searchModel=e)},null,512),[[o.vModelText,f.searchModel]])]),(0,r.kq)(" LIST OUT RESULTS "),m,(0,r.Wm)(p,{"customer-results":f.localCustomerResults},null,8,["customer-results"]),(0,r.kq)(" SHOW IF NO RESULTS "),0==f.localCustomerResults.length?((0,r.wg)(),(0,r.iD)("div",d,"There are no customers with the search parameters used. Please try again.")):(0,r.kq)("v-if",!0)])])}]])},5808:(e,t,s)=>{s.d(t,{Z:()=>R});var r=s(459),o=s(5555),a=s(9980),c=s(6443),i=s(1327),n=s(3408),l=s(647),u=s(1278),m=s(9672),d=s(5984),h=s(763),f=s(5004),g=s(1321),p=s(5189),Z=s(947),_=s(780),U=s(295),w=s(8093),k=s(3843),v=s(2393),S=s(114),T=s(9714),I=s(1323),C=s(2610),y=s(4187);const R={data:()=>({icons:{arrowUp:r.Z,bugIcon:o.Z,bxBriefcase:a.Z,cardChecklist:c.Z,clipboardIcon:i.Z,documentPdf:n.Z,documentText:l.Z,folderIcon:u.Z,groupPresentation:m.Z,imageIcon:d.Z,infoCircle:h.Z,linkIcon:f.Z,linkIcon2:g.Z,linkOut:p.Z,mailIcon:Z.Z,microsoftExcel:_.Z,microsoftPowerpoint:U.Z,microsoftWord:w.Z,noteAdd:k.Z,objectStorage:v.Z,passwordIcon:S.Z,trashCan:T.Z,userIcon:I.Z,usersIcon:C.Z,xCircle:y.Z}})}},9113:(e,t,s)=>{s.d(t,{Z:()=>r});const r={methods:{searchTrigger:function(e){""!=e.searchTimeout&&clearTimeout(e.searchTimeout),void 0===e.search?this.searchUndefined(e):this.searchDefined(e)},searchDefined:function(e){e.search.length>=3&&(e.searchTimeout=setTimeout(e.return_function,500,e.search,e.loading))},searchUndefined:function(e){e.searchTimeout=setTimeout(e.return_function,500)}}}}}]);