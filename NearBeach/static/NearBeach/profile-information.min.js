"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[793],{2480:(e,l,t)=>{t.r(l),t.d(l,{default:()=>P});var o=t(6252),s=t(3577),a=t(9963);const n={class:"card"},r={class:"card-body"},d=(0,o._)("h1",null,"My Profile",-1),i=(0,o._)("hr",null,null,-1),u={class:"row"},m=(0,o._)("div",{class:"col-md-4"},[(0,o._)("strong",null,"User Details"),(0,o._)("p",{class:"text-instructions"}," Please update your details. ")],-1),c={class:"col-md-8"},h=(0,o._)("strong",null,"Username: ",-1),p={class:"row"},M={class:"col-md-6"},_=(0,o.Uk)(" First Name: "),f={key:0,class:"error"},v=(0,o._)("br",null,null,-1),g={class:"col-md-6"},y=(0,o.Uk)(" Last Name: "),w={key:0,class:"error"},U=(0,o._)("br",null,null,-1),E=(0,o._)("div",{class:"spacer"},null,-1),b={class:"row"},L={class:"col-md-6"},N=(0,o._)("label",null," Email: ",-1),k=(0,o._)("hr",null,null,-1),$={class:"row submit-row"},I={class:"col-md-12"};t(9909);var S=t(6650),B=t(2587),C=t(3058),T=t(8416);const x=t(9669),D={name:"ProfileInformation",props:{rootUrl:{type:String,default:"/"},userResults:{type:Array,default:()=>[]}},setup:()=>({v$:(0,S.ZP)()}),data(){return{emailModel:this.userResults[0].email,firstNameModel:this.userResults[0].first_name,lastNameModel:this.userResults[0].last_name}},mixins:[C.Z,T.Z],validations:()=>({lastNameModel:{required:B.C1,maxLength:(0,B.BS)(255)},firstNameModel:{required:B.C1,maxLength:(0,B.BS)(255)}}),methods:{updateUser:function(){if(this.v$.$touch(),this.v$.$invalid)return void this.showValidationErrorModal();const e=new FormData;e.set("username",this.userResults[0].id),e.set("first_name",this.firstNameModel),e.set("last_name",this.lastNameModel),this.showLoadingModal("Project"),x.post(`${this.rootUrl}profile_information/update_data/`,e).then((e=>{this.closeLoadingModal()})).catch((e=>{this.showErrorModal(e,"profile")}))}},mounted(){this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl})}},P=(0,t(3744).Z)(D,[["render",function(e,l,t,S,B,C){return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",r,[d,i,(0,o._)("div",u,[m,(0,o._)("div",c,[(0,o._)("p",null,[h,(0,o.Uk)((0,s.zw)(t.userResults[0].username),1)]),(0,o._)("div",p,[(0,o._)("div",M,[(0,o._)("label",null,[_,S.v$.firstNameModel.$errors.length>0?((0,o.wg)(),(0,o.iD)("span",f," Please suppy a first name.")):(0,o.kq)("v-if",!0),v]),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>B.firstNameModel=e),class:"form-control"},null,512),[[a.vModelText,B.firstNameModel]])]),(0,o._)("div",g,[(0,o._)("label",null,[y,S.v$.lastNameModel.$errors.length>0?((0,o.wg)(),(0,o.iD)("span",w," Please suppy a last name.")):(0,o.kq)("v-if",!0),U]),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>B.lastNameModel=e),class:"form-control"},null,512),[[a.vModelText,B.lastNameModel]])])]),E,(0,o._)("div",b,[(0,o._)("div",L,[N,(0,o.wy)((0,o._)("input",{type:"email","onUpdate:modelValue":l[2]||(l[2]=e=>B.emailModel=e),class:"form-control",disabled:"true"},null,512),[[a.vModelText,B.emailModel]])])])])]),k,(0,o.kq)(" UPDATE USER "),(0,o._)("div",$,[(0,o._)("div",I,[(0,o._)("a",{href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:l[3]||(l[3]=(...e)=>C.updateUser&&C.updateUser(...e))}," Update User Details ")])])])])}]])},3058:(e,l,t)=>{t.d(l,{Z:()=>s});var o=t(9909);const s={methods:{showErrorModal:function(e,l,t){new o.u_(document.getElementById("loadingModal")).hide(),document.getElementById("errorModalContent").innerHTML=`<strong>HTML ISSUE:</strong> We could not save the new requirement<hr>${e}`,new o.u_(document.getElementById("errorModal")).show()},showValidationErrorModal:function(){document.getElementById("errorModalContent").innerHTML="<strong>FORM ISSUE:</strong> Sorry, but can you please fill out the form completely.",new o.u_(document.getElementById("errorModal")).show()}}}},8416:(e,l,t)=>{t.d(l,{Z:()=>s});var o=t(9909);const s={methods:{closeLoadingModal:function(){var e=new o.u_(document.getElementById("loadingModal"));document.getElementById("loadingModalContent").innerHTML="UPDATED SUCCESSFULLY",setTimeout((()=>{e.hide()}),1e3)},showLoadingModal:function(e){new o.u_(document.getElementById("loadingModal")).show(),document.getElementById("loadingModalContent").innerHTML=`Updating your ${e} details`}}}}}]);