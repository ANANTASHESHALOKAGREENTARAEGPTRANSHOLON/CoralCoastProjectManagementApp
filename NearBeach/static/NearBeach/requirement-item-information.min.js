"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[320],{2946:(e,t,i)=>{i.r(t),i.d(t,{default:()=>se});var l=i(6252),r=i(9963),o=i(3577);const s={class:"card"},n={class:"card-body"},a=(0,l._)("h1",null,"Requirement Item Information",-1),u=(0,l._)("br",null,null,-1),d=["href"],m=(0,l._)("hr",null,null,-1),c={class:"row"},p=(0,l._)("div",{class:"col-md-4"},[(0,l._)("h2",null,"Description"),(0,l._)("p",{class:"text-instructions"}," Requirement Items should be detailed. They should only focus on one small section of the requirement. ")],-1),h={class:"col-md-8",style:{"min-height":"610px"}},_={class:"form-group"},g={for:"requirement_item_title"},q=(0,l.Uk)(" Requirement Item Title: "),f={key:0,class:"error"},y={class:"form-group"},v=(0,l.Uk)("Requirement Item Scope: "),k={key:0,class:"error"},I={key:1,class:"error"},M=(0,l._)("br",null,null,-1),S=["src"],b=(0,l._)("hr",null,null,-1),w={class:"row"},Z=(0,l._)("div",{class:"col-md-4"},[(0,l._)("h2",null,"Stakeholder")],-1),U={class:"col-md-8 organisation-details"},x=["src"],L={class:"organisation-name"},R={class:"organisation-link"},T=(0,l.Uk)(" Website: "),$=["href"],C={class:"organisation-email"},E=(0,l.Uk)(" Email: "),B=["href"],D=(0,l._)("hr",null,null,-1),F={class:"row"},V=(0,l._)("div",{class:"col-md-4"},[(0,l._)("h2",null,"Status"),(0,l._)("p",{class:"text-instructions"},"Set the Requirement Status and Type here.")],-1),P={class:"col-md-4"},W={class:"form-group"},A=(0,l.Uk)("Requirement Status "),H={key:0,class:"error"},O={class:"col-md-4"},j={class:"form-group"},z=(0,l.Uk)("Requirement Type "),G={key:0,class:"error"},J=(0,l._)("hr",null,null,-1),N={class:"row submit-row"},Y={class:"col-md-12"};var K=i(9909),Q=i(6542),X=i(9669),ee=i.n(X),te=i(4250),ie=i(5808),le=i(6650),re=i(2587);const oe={name:"RequirementItemInformation.vue",setup:()=>({v$:(0,le.ZP)()}),components:{Icon:Q.JO},props:{requirementItemResults:{type:Array,default:()=>[]},organisationResults:{type:Array,default:()=>[]},defaultStakeholderImage:{type:String,default:"/"},statusList:{type:Array,default:()=>[]},typeList:{type:Array,default:()=>[]}},computed:{...(0,te.Se)({rootUrl:"getRootUrl",staticUrl:"getStaticUrl"}),getStakeholderImage:function(){return""==this.stakeholderModel.organisation_profile_picture?this.defaultStakeholderImage:this.stakeholderModel.organisation_profile_picture}},mixins:[ie.Z],data:()=>({requirementItemScopeModel:"",requirementItemTitleModel:"",stakeholderModel:"",statusFixList:[],statusModel:"",typeFixList:[],typeModel:""}),validations:{requirementItemScopeModel:{required:re.C1,maxLength:(0,re.BS)(63e4)},requirementItemTitleModel:{required:re.C1},statusModel:{required:re.C1},typeModel:{required:re.C1}},methods:{updateRequirementItem:function(){if(this.v$.$touch(),this.v$.$invalid)return document.getElementById("errorModalContent").innerHTML="<strong>FORM ISSUE:</strong> Sorry, but can you please fill out the form completely.",void new K.u_(document.getElementById("errorModal")).show();var e=new K.u_(document.getElementById("loadingModal"));e.show(),document.getElementById("loadingModalContent").innerHTML="Updating your Requirement Item details";const t=new FormData;t.set("requirement_item_title",this.requirementItemTitleModel),t.set("requirement_item_scope",this.requirementItemScopeModel),t.set("requirement_item_status",this.statusModel.value),t.set("requirement_item_type",this.typeModel.value),ee().post("save/",t).then((t=>{document.getElementById("loadingModalContent").innerHTML="UPDATED SUCCESSFULLY",setTimeout((()=>{e.hide()}),1e3)})).catch((t=>{e.hide(),document.getElementById("errorModalContent").innerHTML=`<strong>HTML ISSUE:</strong> We could not save the new requirement item<hr>${t}`,new K.u_(document.getElementById("errorModal")).show()}))}},mounted(){var e=this.requirementItemResults[0].fields;this.requirementItemScopeModel=e.requirement_item_scope,this.requirementItemTitleModel=e.requirement_item_title,this.stakeholderModel=this.organisationResults[0].fields,this.statusList.forEach((e=>{var t={value:e.pk,status:e.fields.requirement_item_status};this.statusFixList.push(t)})),this.typeList.forEach((e=>{var t={value:e.pk,type:e.fields.requirement_item_type};this.typeFixList.push(t)})),this.statusModel=this.statusFixList.filter((t=>t.value==e.requirement_item_status))[0],this.typeModel=this.typeFixList.filter((t=>t.value==e.requirement_item_type))[0]}},se=(0,i(3744).Z)(oe,[["render",function(e,t,i,K,Q,X){const ee=(0,l.up)("editor"),te=(0,l.up)("Icon"),ie=(0,l.up)("v-select");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",n,[a,u,(0,l._)("a",{href:`${e.rootUrl}requirement_information/${i.requirementItemResults[0].fields.requirement}/`}," Go Back to requirement ",8,d),m,(0,l._)("div",c,[(0,l.kq)(" Description "),p,(0,l.kq)(" Requirement item information "),(0,l._)("div",h,[(0,l._)("div",_,[(0,l._)("label",g,[q,K.v$.requirementItemTitleModel.required?(0,l.kq)("v-if",!0):((0,l.wg)(),(0,l.iD)("span",f," Please suppy a title. "))]),(0,l.wy)((0,l._)("input",{id:"requirement_item_title","onUpdate:modelValue":t[0]||(t[0]=e=>Q.requirementItemTitleModel=e),class:"form-control",type:"text",required:"true",maxlength:"255"},null,512),[[r.vModelText,Q.requirementItemTitleModel]])]),(0,l._)("div",y,[(0,l._)("label",null,[v,K.v$.requirementItemScopeModel.required?(0,l.kq)("v-if",!0):((0,l.wg)(),(0,l.iD)("span",k," Please supply a scope.")),K.v$.requirementItemScopeModel.maxLength?(0,l.kq)("v-if",!0):((0,l.wg)(),(0,l.iD)("span",I," Sorry - too many characters."))]),M,(0,l._)("img",{src:`${e.staticUrl}NearBeach/images/placeholder/body_text.svg`,class:"loader-image",alt:"loading image for Tinymce"},null,8,S),(0,l.Wm)(ee,{init:{height:500,menubar:!1,plugins:"lists",toolbar:["undo redo | formatselect | alignleft aligncenter alignright alignjustify","bold italic strikethrough underline backcolor | bullist numlist outdent indent | removeformat"]},content_css:!1,skin:!1,modelValue:Q.requirementItemScopeModel,"onUpdate:modelValue":t[1]||(t[1]=e=>Q.requirementItemScopeModel=e)},null,8,["modelValue"])])])]),(0,l.kq)(" Stakeholder Information "),b,(0,l._)("div",w,[(0,l.kq)(" Description "),Z,(0,l._)("div",U,[(0,l._)("img",{src:X.getStakeholderImage,alt:"Stakeholder Logo",class:"organisation-image"},null,8,x),(0,l._)("div",L,(0,o.zw)(Q.stakeholderModel.organisation_name),1),(0,l._)("div",R,[(0,l.Wm)(te,{icon:e.icons.linkOut},null,8,["icon"]),T,(0,l._)("a",{href:Q.stakeholderModel.organisation_website,target:"_blank",rel:"noopener noreferrer"},(0,o.zw)(Q.stakeholderModel.organisation_website),9,$)]),(0,l._)("div",C,[(0,l.Wm)(te,{icon:e.icons.mailIcon},null,8,["icon"]),E,(0,l._)("a",{href:`mailto:${Q.stakeholderModel.organisation_email}`},(0,o.zw)(Q.stakeholderModel.organisation_email),9,B)])])]),(0,l.kq)(" Status "),D,(0,l._)("div",F,[V,(0,l._)("div",P,[(0,l._)("div",W,[(0,l._)("label",null,[A,!K.v$.statusModel.required&&K.v$.statusModel.$dirty?((0,l.wg)(),(0,l.iD)("span",H," Please select a status.")):(0,l.kq)("v-if",!0)]),(0,l.Wm)(ie,{options:Q.statusFixList,label:"status",modelValue:Q.statusModel,"onUpdate:modelValue":t[2]||(t[2]=e=>Q.statusModel=e)},null,8,["options","modelValue"])])]),(0,l._)("div",O,[(0,l._)("div",j,[(0,l._)("label",null,[z,!K.v$.typeModel.required&&K.v$.typeModel.$dirty?((0,l.wg)(),(0,l.iD)("span",G," Please select a type.")):(0,l.kq)("v-if",!0)]),(0,l.Wm)(ie,{options:Q.typeFixList,label:"type",modelValue:Q.typeModel,"onUpdate:modelValue":t[3]||(t[3]=e=>Q.typeModel=e)},null,8,["options","modelValue"])])])]),(0,l.kq)(" Submit Button "),J,(0,l._)("div",N,[(0,l._)("div",Y,[(0,l._)("a",{href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:t[4]||(t[4]=(...e)=>X.updateRequirementItem&&X.updateRequirementItem(...e))},"Update Requirement")])])])])}]])},5808:(e,t,i)=>{i.d(t,{Z:()=>U});var l=i(459),r=i(5555),o=i(9980),s=i(6443),n=i(1327),a=i(3408),u=i(647),d=i(1278),m=i(9672),c=i(5984),p=i(763),h=i(5004),_=i(1321),g=i(5189),q=i(947),f=i(780),y=i(295),v=i(8093),k=i(3843),I=i(2393),M=i(114),S=i(9714),b=i(1323),w=i(2610),Z=i(4187);const U={data:()=>({icons:{arrowUp:l.Z,bugIcon:r.Z,bxBriefcase:o.Z,cardChecklist:s.Z,clipboardIcon:n.Z,documentPdf:a.Z,documentText:u.Z,folderIcon:d.Z,groupPresentation:m.Z,imageIcon:c.Z,infoCircle:p.Z,linkIcon:h.Z,linkIcon2:_.Z,linkOut:g.Z,mailIcon:q.Z,microsoftExcel:f.Z,microsoftPowerpoint:y.Z,microsoftWord:v.Z,noteAdd:k.Z,objectStorage:I.Z,passwordIcon:M.Z,trashCan:S.Z,userIcon:b.Z,usersIcon:w.Z,xCircle:Z.Z}})}}}]);