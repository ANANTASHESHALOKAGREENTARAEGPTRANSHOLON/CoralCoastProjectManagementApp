"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[7133],{1765:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var l=a(6252);const r={class:"card"},n={class:"card-body"},o=(0,l._)("h1",null,"New Request for Change",-1),s=(0,l._)("hr",null,null,-1),i=(0,l._)("hr",null,null,-1),u=(0,l._)("hr",null,null,-1),c=(0,l._)("hr",null,null,-1),d=(0,l._)("hr",null,null,-1),p=(0,l._)("hr",null,null,-1),f=(0,l._)("hr",null,null,-1),m={class:"row submit-row"},_={class:"col-md-12"};var h=a(1010),M=a(5578),k=a(2984),v=a(7156),g=a(2898),b=a(2320),R=a(3058);const U=a(9669),y={name:"NewRequestForChange",components:{RfcBackoutPlan:g.Z,RfcDescription:h.Z,RfcDetails:M.Z,RfcImplementationPlan:b.Z,RfcRisk:k.Z,RfcTestPlan:v.Z},props:{groupResults:Array,rootUrl:{type:String,default:"/"},staticUrl:{type:String,default:"/"},userGroupResults:{type:Array,default:()=>[]}},mixins:[R.Z],data:()=>({currentTab:0,rfcData:{groupModel:[],rfcBackoutPlan:"",rfcChangeLeadModel:{},rfcImpactModel:{},rfcImplementationEndModel:"",rfcImplementationPlanModel:"",rfcImplementationStartModel:"",rfcPriorityModel:{},rfcReleaseModel:"",rfcRiskModel:{},rfcRiskSummaryModel:"",rfcSummaryModel:"",rfcTestPlanModel:"",rfcTitleModel:"",rfcTypeModel:{},rfcVersionModel:""},validationData:{tab_0:!1,tab_1:!1,tab_2:!1,tab_3:!1,tab_4:!1,tab_5:!1}}),methods:{beforeChange:function(){return this.validationData[`tab_${this.currentTab}`]},onChange:function(e,t){this.currentTab=t,window.scrollTo(0,60)},onComplete:function(){const e=new FormData,t=this.rfcData;e.set("rfc_title",t.rfcTitleModel),e.set("rfc_summary",t.rfcSummaryModel),e.set("rfc_type",t.rfcTypeModel),e.set("rfc_implementation_start_date",new Date(t.rfcImplementationStartModel).toISOString()),e.set("rfc_implementation_end_date",new Date(t.rfcImplementationEndModel).toISOString()),e.set("rfc_implementation_release_date",new Date(t.rfcReleaseModel).toISOString()),e.set("rfc_version_number",t.rfcVersionModel),e.set("rfc_lead",t.rfcChangeLeadModel),e.set("rfc_priority",t.rfcPriorityModel),e.set("rfc_risk",t.rfcRiskModel),e.set("rfc_impact",t.rfcImpactModel),e.set("rfc_risk_and_impact_analysis",t.rfcRiskSummaryModel),e.set("rfc_implementation_plan",t.rfcImplementationPlanModel),e.set("rfc_backout_plan",t.rfcBackoutPlan),e.set("rfc_test_plan",t.rfcTestPlanModel),t.groupModel.forEach(((t,a)=>{e.append("group_list",t)})),U.post(`${this.rootUrl}new_request_for_change/save/`,e).then((e=>{window.location.href=e.data})).catch((e=>{this.showErrorModal(e,"request_for_change","")}))},updateValidation:function(e){this.validationData[e.tab]=e.value},updateValues:function(e){this.rfcData[e.modelName]=e.modelValue}},mounted(){this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl,staticUrl:this.staticUrl})}},w=(0,a(3744).Z)(y,[["render",function(e,t,a,h,M,k){const v=(0,l.up)("rfc-description"),g=(0,l.up)("rfc-details"),b=(0,l.up)("rfc-risk"),R=(0,l.up)("rfc-implementation-plan"),U=(0,l.up)("rfc-backout-plan"),y=(0,l.up)("rfc-test-plan");return(0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",n,[o,s,(0,l.kq)(" DESCRIPTION "),(0,l.Wm)(v,{onUpdate_values:t[0]||(t[0]=e=>k.updateValues(e)),onUpdate_validation:t[1]||(t[1]=e=>k.updateValidation(e)),"static-url":a.staticUrl},null,8,["static-url"]),i,(0,l.kq)(" Details "),(0,l.Wm)(g,{"group-results":a.groupResults,"user-group-results":a.userGroupResults,onUpdate_validation:t[2]||(t[2]=e=>k.updateValidation(e)),onUpdate_values:t[3]||(t[3]=e=>k.updateValues(e))},null,8,["group-results","user-group-results"]),u,(0,l.kq)(" Risk "),(0,l.Wm)(b,{onUpdate_values:t[4]||(t[4]=e=>k.updateValues(e)),onUpdate_validation:t[5]||(t[5]=e=>k.updateValidation(e))}),c,(0,l.kq)(" Implementation Plan "),(0,l.Wm)(R,{onUpdate_values:t[6]||(t[6]=e=>k.updateValues(e)),onUpdate_validation:t[7]||(t[7]=e=>k.updateValidation(e))}),d,(0,l.kq)(" Backout Plan "),(0,l.Wm)(U,{onUpdate_values:t[8]||(t[8]=e=>k.updateValues(e)),onUpdate_validation:t[9]||(t[9]=e=>k.updateValidation(e))}),p,(0,l.kq)(" Test Plan "),(0,l.Wm)(y,{onUpdate_values:t[10]||(t[10]=e=>k.updateValues(e)),onUpdate_validation:t[11]||(t[11]=e=>k.updateValidation(e))}),(0,l.kq)(" Submit Button "),f,(0,l._)("div",m,[(0,l._)("div",_,[(0,l._)("a",{href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:t[12]||(t[12]=(...e)=>k.onComplete&&k.onComplete(...e))},"Create new Request for Change")])])])])}]])}}]);